

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>read_datasets module &mdash; operational_sep_quantities 3.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="global_vars module" href="global_vars.html" />
    <link rel="prev" title="run_multi_sep module" href="run_multi_sep.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> operational_sep_quantities
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="overall.html">Overall Description</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">operational-sep</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="compare_data_model.html">compare_data_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="operational_sep_quantities.html">operational_sep_quantities module</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_multi_sep.html">run_multi_sep module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">read_datasets module</a></li>
<li class="toctree-l2"><a class="reference internal" href="global_vars.html">global_vars module</a></li>
<li class="toctree-l2"><a class="reference internal" href="derive_background.html">derive_background module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ccmc_json_handler.html">ccmc_json_handler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keys.html">keys module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">operational_sep_quantities</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">operational-sep</a> &raquo;</li>
        
      <li>read_datasets module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/read_datasets.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-read_datasets">
<span id="read-datasets-module"></span><h1>read_datasets module<a class="headerlink" href="#module-read_datasets" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.check_data">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">check_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.check_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the files containing the data are in the data directory. If
the files for the requested dates aren’t present, they will be
downloaded from the NOAA website. For SEPEM (RSDv2) data, if missing,
the program prints the URL from which the data can be downloaded and
unzipped manually.
The RSDv2 data set is very large and takes a long time to read as a
single file. This program will generate files containing fluxes for
each year for faster reading.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.check_ephin_data">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">check_ephin_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.check_ephin_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for SOHO/COSTEP/EPHIN data on your computer. If not there,
download from <a class="reference external" href="http://ulysses.physik.uni-kiel.de/costep/level3/l3i/">http://ulysses.physik.uni-kiel.de/costep/level3/l3i/</a>
30 minute data will be downloaded. Intensities are in units of
(cm^2 s sr mev/nuc)^-1
First available date is 1995 12 8 (DOY = 342).
The files are available in daily or yearly format.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.check_ephin_release_data">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">check_ephin_release_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.check_ephin_release_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for SOHO/COSTEP/EPHIN data on your computer provided by the
HESPERIA collaboration on the website
<a class="reference external" href="https://www.hesperia.astro.noa.gr/index.php/results/">https://www.hesperia.astro.noa.gr/index.php/results/</a>
real-time-prediction-tools/data-retrieval-tool
(one long URL). Monthly files of this data set are provided in the
public git containing these codes. Otherwise, users may go to the URL
above, download the data sets, and use the file naming convention
adopted here:</p>
<blockquote>
<div><p>data/EPHIN_REleASE/HESPERIA_SOHO_PROTON_YYYY.txt</p>
</div></blockquote>
<p>Intensities are in units of (cm^2 s sr mev/nuc)^-1
First available date is 1995 12 8 (DOY = 342).
The files are saved in yearly format.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.check_for_bad_data">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">check_for_bad_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dointerp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.check_for_bad_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the data for bad values (flux &lt; 0) and fill the missing data with
an estimate flux found by performing a linear interpolation with time,
using the good flux values immediately surrounding the data gap.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.check_goes_data">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">check_goes_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.check_goes_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that GOES data is on your computer or download it from the NOAA
website. Return the filenames associated with the correct GOES data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.check_paths">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">check_paths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.check_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the paths that hold the data and output exist. If not, create.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.check_sepem_data">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">check_sepem_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.check_sepem_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if SEPEM data is present on the computer. Break into yearly
files if needed. Return SEPEM filenames for analysis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.define_energy_bins">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">define_energy_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">west_detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.define_energy_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the energy bins for the selected spacecraft or data set.
If the user inputs their own file, they must set the user_energy_bins
variable in library/global_vars.py.
User may select options to apply Sandberg et al. (2014) effective
energies for GOES EPS by specifying “S14” and/or apply Bruno (2017)
effective energies for GOES-13 or -15 P6, P7 and HEPAD by specifying
“Bruno2017”</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.do_interpolation">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">do_interpolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.do_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>If bad fluxes (flux &lt; 0) are found in the data, find the first prior
data point and the first following data point that have good flux values.
Perform linear interpolation in time:</p>
<blockquote>
<div><p>F(t) = F1 + (t - t1)*(F2 - F1)/(t2 - t1)</p>
</div></blockquote>
<p>This subroutine does the calculation for a single instance of bad data
that corresponds to array index i.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.extract_date_range">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">extract_date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_dates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_fluxes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.extract_date_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract fluxes only for the dates in the range specified by the user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.find_goes_data_dimensions">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">find_goes_data_dimensions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.find_goes_data_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Input open csv file of GOES data. Identifies the start of the data by
searching for the string ‘data:’, then returns the number of header
rows and data rows present in the file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.get_west_detector">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">get_west_detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dates</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.get_west_detector" title="Permalink to this definition">¶</a></dt>
<dd><p>For GOES-13+, identify which detector is facing west from the
orientation flag files. Get an orientation for each data point.
EPEAD orientation flag. 0: A/W faces East and B/E faces West.
1: A/W faces West and B/E faces East. 2: yaw-flip in progress.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.make_yearly_files">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">make_yearly_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.make_yearly_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a large data set into yearly files.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.read_in_ephin">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">read_in_ephin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.read_in_ephin" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in EPHIN files from your computer.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.read_in_ephin_release">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">read_in_ephin_release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.read_in_ephin_release" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in EPHIN files from your computer.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.read_in_files">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">read_in_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames_orien</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.read_in_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the appropriate data files with the correct format. Return an
array with dates and fluxes. Bad flux values (any negative flux) are set
to -1. Format is defined to work with the files downloaded directly from
NOAA or the RSDv2 (SEPEM) website as is.
The fluxes output for the GOES-13+ satellites are always from the
westward-facing detector (A or B) by referring to the orientation flags
provided in the associated orientation file. Data taken during a yaw
flip (orientation flag = 2) are excluded and fluxes are set to -1.
Note that the EPS detectors on GOES-08 and -12 face westward. The
EPS detector on GOES-10 faces eastward. GOES-11 is a spinning satellite.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.read_in_goes">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">read_in_goes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames_orien</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.read_in_goes" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in GOES data from your computer. User may specify option to choose
corrected or uncorrected GOES fluxes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.read_in_sepem">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">read_in_sepem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filenames1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.read_in_sepem" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in SEPEM data files from the computer.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="read_datasets.read_in_user_files">
<span class="sig-prename descclassname"><span class="pre">read_datasets.</span></span><span class="sig-name descname"><span class="pre">read_in_user_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read_datasets.read_in_user_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in file containing flux time profile information that was
specified by the user.
The first column MUST contain the date in YYYY-MM-DD HH:MM:SS
format. The remaining flux columns to be read in are specified by the
user in the variable user_col at the very beginning of this program.
The date column should always be considered column 0, even if you used
whitespace as your delimeter. The code will consider the date format
YYYY-MM-DD HH:MM:SS as one column even though it contains whitespace.
Any number of header lines are allowed, but they must be indicated by #
at the very beginning, including empty lines.
Be sure to add the energy bins associated with your flux columns in the
subroutine define_energy_bins under the “user” is statement.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="global_vars.html" class="btn btn-neutral float-right" title="global_vars module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="run_multi_sep.html" class="btn btn-neutral float-left" title="run_multi_sep module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Kathryn Whitman.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>