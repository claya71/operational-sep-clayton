

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>run_multi_sep module &mdash; operational_sep_quantities 3.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="compare_data_model module" href="compare_data_model.html" />
    <link rel="prev" title="keys module" href="keys.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> operational_sep_quantities
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="repository.html">Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="overall_description.html">Overall Description</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">operational-sep all modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="operational_sep_quantities.html">operational_sep_quantities module</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_datasets.html">read_datasets module</a></li>
<li class="toctree-l2"><a class="reference internal" href="global_vars.html">global_vars module</a></li>
<li class="toctree-l2"><a class="reference internal" href="derive_background.html">derive_background module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ccmc_json_handler.html">ccmc_json_handler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keys.html">keys module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">run_multi_sep module</a></li>
<li class="toctree-l2"><a class="reference internal" href="compare_data_model.html">compare_data_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_json_example.html">read_json_example module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">operational_sep_quantities</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">operational-sep all modules</a> &raquo;</li>
        
      <li>run_multi_sep module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/run_multi_sep.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-run_multi_sep">
<span id="run-multi-sep-module"></span><h1>run_multi_sep module<a class="headerlink" href="#module-run_multi_sep" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="run_multi_sep.about_run_multi_sep">
<span class="sig-prename descclassname"><span class="pre">run_multi_sep.</span></span><span class="sig-name descname"><span class="pre">about_run_multi_sep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#run_multi_sep.about_run_multi_sep" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This and supporting codes are found in the respository:</dt><dd><p><a class="reference external" href="https://github.com/ktindiana/operational-sep">https://github.com/ktindiana/operational-sep</a></p>
</dd>
</dl>
<p>This code will run operational_sep_quantities.py for multiple SEP events.</p>
<p>The input list file specifying which time periods must follow the format
below. The SEP dates will be read in from a csv file with the columns:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">Start Date</dt>
<dd class="field-odd"><p>YYYY-MM-DD or YYYY-MM-DD HH:MM:SS</p>
</dd>
<dt class="field-even">End Date</dt>
<dd class="field-even"><p>YYYY-MM-DD or YYYY-MM-DD HH:MM:SS</p>
</dd>
<dt class="field-odd">Experiment</dt>
<dd class="field-odd"><p>GOES-08 up to GOES-15, EPHIN, SEPEM, SEPEMv3, user</p>
</dd>
<dt class="field-even">Flux Type</dt>
<dd class="field-even"><p>differential or integral</p>
</dd>
<dt class="field-odd">Flags</dt>
<dd class="field-odd"><p>Options are blank, TwoPeak, DetectPreviousEvent, and/ or SubtractBG separated by semi-colons, e.g. TwoPeak;SubtractBG</p>
</dd>
<dt class="field-even">Model Name</dt>
<dd class="field-even"><p>blank if not a model</p>
</dd>
<dt class="field-odd">User Filename</dt>
<dd class="field-odd"><p>name of file containing SEP time profile that user wants to input</p>
</dd>
<dt class="field-even">options</dt>
<dd class="field-even"><p>may be “S14;Bruno2017;uncorrected”</p>
</dd>
<dt class="field-odd">Background Start Date</dt>
<dd class="field-odd"><p>YYYY-MM-DD or YYYY-MM-DD HH:MM:SS (if subtracting a BG)</p>
</dd>
<dt class="field-even">Background End Date</dt>
<dd class="field-even"><p>YYYY-MM-DD or YYYY-MM-DD HH:MM:SS</p>
</dd>
</dl>
</div></blockquote>
<p>COLUMN ENTRIES FOR OBSERVATIONS:</p>
<p>StartDate, Enddate, Experiment, FluxType, Flags,,,options, bgstartdate, bgenddate</p>
<p>COLUMN ENTRIES FOR ‘user’ FILE:</p>
<p>StartDate, Enddate, Experiment, FluxType, Flags, Model Name, User Filename, options, bgstartdate, bgenddate</p>
<p>OUTPUT FILES INCLUDE:</p>
<blockquote>
<div><ul>
<li><p>All of the output files generated by operational_sep_quantities.py</p></li>
<li><p>An aggregated list of information for all of the SEP events for each of the thresholds containing:</p>
<blockquote>
<div><ul class="simple">
<li><p>Start Time,End Time,Onset Peak Flux,Onset Peak Time,Max Flux, Max Flux Time,Fluence</p></li>
</ul>
</div></blockquote>
</li>
<li><p>If UMASEP, then the additional columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>Ts + 3hr, Ts + 4hr, Ts + 5hr, Ts + 6hr, Ts + 7hr</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="run_multi_sep.check_list_path">
<span class="sig-prename descclassname"><span class="pre">run_multi_sep.</span></span><span class="sig-name descname"><span class="pre">check_list_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#run_multi_sep.check_list_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the path listpath (global_vars.py) exists</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="run_multi_sep.initialize_files">
<span class="sig-prename descclassname"><span class="pre">run_multi_sep.</span></span><span class="sig-name descname"><span class="pre">initialize_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jsonfname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#run_multi_sep.initialize_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and initialize the output files that will contain
the sep quantities. One output file for each unique energy
channel and threshold combination.</p>
<p>Create file and add header.</p>
<p>INPUTS:</p>
<dl class="field-list simple">
<dt class="field-odd">Jsonfname</dt>
<dd class="field-odd"><p>(string) name of json file</p>
</dd>
</dl>
<p>OUTPUT:</p>
<dl class="field-list simple">
<dt class="field-odd">Combos</dt>
<dd class="field-odd"><p>(array of dictionaries)</p>
</dd>
</dl>
<p>combos contains all the unique energy and threshold combinations
identified in all the different possible values in the json file.
combos = [{‘energy_channel’: {‘min’: min, ‘max’: max},’threshold’: thresh},</p>
<blockquote>
<div><p>{‘energy_channel’: {‘min’: min, ‘max’: max},’threshold’: thresh},
…]</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="run_multi_sep.read_sep_dates">
<span class="sig-prename descclassname"><span class="pre">run_multi_sep.</span></span><span class="sig-name descname"><span class="pre">read_sep_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sep_filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#run_multi_sep.read_sep_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in a csv list file of SEP events. List must have the format:</p>
<dl class="simple">
<dt>StartDate, Enddate, Experiment, FluxType, Flags,,,options,bgstartdate,</dt><dd><p>bgenddate</p>
</dd>
</dl>
<p>If the experiment is ‘user’, indicating a user-input flux file, then
the file must have the format:</p>
<dl class="simple">
<dt>StartDate, Enddate, Experiment, FluxType, Flags, Model Name,</dt><dd><p>User Filename, options, bgstartdate, bgenddate</p>
</dd>
</dl>
<p>Flags may be: TwoPeak, DetectPreviousEvent, SubtractBG</p>
<p>options may be: “S14,Bruno2017,uncorrected”</p>
<p>Each column is returned as an array.</p>
<p>INPUTS:</p>
<dl class="field-list simple">
<dt class="field-odd">Sep_filename</dt>
<dd class="field-odd"><p>(string) name of file containing the list of
experiments and time periods to run</p>
</dd>
</dl>
<p>OUTPUTS:</p>
<dl class="field-list simple">
<dt class="field-odd">Start_dates</dt>
<dd class="field-odd"><p>(datetime 1xn array)</p>
</dd>
<dt class="field-even">End_dates</dt>
<dd class="field-even"><p>(datetime 1xn array)</p>
</dd>
<dt class="field-odd">Experiments</dt>
<dd class="field-odd"><p>(string 1xn array)</p>
</dd>
<dt class="field-even">Flux_types</dt>
<dd class="field-even"><p>(string 1xn array)</p>
</dd>
<dt class="field-odd">Flags</dt>
<dd class="field-odd"><p>(string 1xn array)</p>
</dd>
<dt class="field-even">Model_names</dt>
<dd class="field-even"><p>(string 1xn array)</p>
</dd>
<dt class="field-odd">User_files</dt>
<dd class="field-odd"><p>(string 1xn array)</p>
</dd>
<dt class="field-even">Options</dt>
<dd class="field-even"><p>(string 1xn array)</p>
</dd>
<dt class="field-odd">Bgstartdate</dt>
<dd class="field-odd"><p>(datetime 1xn array)</p>
</dd>
<dt class="field-even">Bgenddate</dt>
<dd class="field-even"><p>(datetime 1xn array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="run_multi_sep.run_all_events">
<span class="sig-prename descclassname"><span class="pre">run_multi_sep.</span></span><span class="sig-name descname"><span class="pre">run_all_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sep_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">umasep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#run_multi_sep.run_all_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Run all of the time periods and experiments in the list
file. Extract the values of interest and compile them
in event lists, one list per energy channel and threshold
combination.</p>
<p>INPUTS:</p>
<dl class="field-list simple">
<dt class="field-odd">Sep_filename</dt>
<dd class="field-odd"><p>(string) file containing list of events
and experiments to run</p>
</dd>
<dt class="field-even">Outfname</dt>
<dd class="field-even"><p>(string) name of a file that will report any
errors encountered when running each event in the list</p>
</dd>
<dt class="field-odd">Threshold</dt>
<dd class="field-odd"><p>(string) any additional thresholds to run
beyond &gt;10 MeV, 10 pfu and &gt;100 MeV, 1 pfu. Specify
in same way as called for by operational_sep_quantities.py</p>
</dd>
<dt class="field-even">Umasep</dt>
<dd class="field-even"><p>(boolean) set to true to calculate values related to
the UMASEP model</p>
</dd>
</dl>
<p>OUTPUTS:</p>
<p>None except for:</p>
<blockquote>
<div><ul class="simple">
<li><p>Output file listing each run and any errors encountered</p></li>
<li><dl class="simple">
<dt>Output files containing event lists for each unique energy</dt><dd><p>channel and threshold combination</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="run_multi_sep.write_sep_lists">
<span class="sig-prename descclassname"><span class="pre">run_multi_sep.</span></span><span class="sig-name descname"><span class="pre">write_sep_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jsonfname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#run_multi_sep.write_sep_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in sep_values_*.json files output by operational_sep_quantities.
Selected information is taken and sorted into lists for each threshold
definition. Output is then an SEP list with associated quantities for
each threshold.</p>
<p>In the output list file, None, null, or global_var.py errval variable
(currently “Value Not Found”) indicate that the model
or observations did not cross threshold.</p>
<dl class="simple">
<dt>combos = [{‘energy_channel’: {‘min’: min, ‘max’: max},’threshold’: thresh},</dt><dd><p>{‘energy_channel’: {‘min’: min, ‘max’: max},’threshold’: thresh},
…]</p>
</dd>
</dl>
<p>INPUTS:</p>
<dl class="field-list simple">
<dt class="field-odd">Jsonfname</dt>
<dd class="field-odd"><p>(string) name of the json file</p>
</dd>
<dt class="field-even">Combos</dt>
<dd class="field-even"><p>(array of dictionaries) all of the different energy channel
and threshold combinations in the json file</p>
</dd>
</dl>
<p>OUTPUTS:</p>
<dl class="field-list simple">
<dt class="field-odd">Boolean</dt>
<dd class="field-odd"><p>True if values successfully written to file</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="compare_data_model.html" class="btn btn-neutral float-right" title="compare_data_model module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="keys.html" class="btn btn-neutral float-left" title="keys module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Kathryn Whitman.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>